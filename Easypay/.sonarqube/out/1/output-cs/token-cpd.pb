ß
[E:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\AppUI\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. #
AddControllersWithViews (
(( )
)) *
;* +
builder		 
.		 
Services		 
.		 
AddHttpClient		 
(		 
$str		 *
,		* +
client		, 2
=>		3 5
{

 
client 

.
 
BaseAddress 
= 
new 
Uri  
(  !
$str! 9
)9 :
;: ;
client 

.
 !
DefaultRequestHeaders  
.  !
Add! $
($ %
$str% -
,- .
$str/ A
)A B
;B C
} 
) 
; 
builder 
. 
Services 
. 

AddSession 
( 
options #
=>$ &
{ 
options 
. 
IdleTimeout 
= 
TimeSpan "
." #
FromMinutes# .
(. /
$num/ 1
)1 2
;2 3
options 
. 
Cookie 
. 
HttpOnly 
= 
true "
;" #
options 
. 
Cookie 
. 
IsEssential 
=  
true! %
;% &
} 
) 
; 
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. %
UseDeveloperExceptionPage !
(! "
)" #
;# $
} 
else 
{ 
app   
.   
UseExceptionHandler   
(   
$str   *
)  * +
;  + ,
}!! 
app$$ 
.$$ 
UseStaticFiles$$ 
($$ 
)$$ 
;$$ 
app%% 
.%% 

UseRouting%% 
(%% 
)%% 
;%% 
app&& 
.&& 

UseSession&& 
(&& 
)&& 
;&& 
app)) 
.)) 
MapControllers)) 
()) 
))) 
;)) 
app++ 
.++ 
Run++ 
(++ 
)++ 	
;++	 
Å
_E:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\AppUI\Models\User.cs
	namespace 	
AppUI
 
. 
Models 
{ 
public 

class 
User 
{ 
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Role 
{ 
get  
;  !
set" %
;% &
}' (
}		 
}

 Ω
hE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\AppUI\Models\PayrollConfig.cs
	namespace 	
AppUI
 
. 
Models 
{ 
public 

class 
PayrollConfig 
{ 
public 
int 
ConfigId 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 

EmployeeId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
decimal 

Allowances !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
decimal 

Deductions !
{" #
get$ '
;' (
set) ,
;, -
}. /
public		 
decimal		 
TaxRate		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
}

 
} Î

bE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\AppUI\Models\Payroll.cs
	namespace 	
AppUI
 
. 
Models 
{ 
public 

class 
Payroll 
{ 
public 
int 
	PayrollId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 

EmployeeId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
decimal 
Salary 
{ 
get  #
;# $
set% (
;( )
}* +
public 
decimal 
Bonus 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
decimal		 

Deductions		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
public

 
decimal

 
	NetSalary

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
public 
DateTime 
PayrollDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} ∏
gE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\AppUI\Models\Notification.cs
	namespace 	
AppUI
 
. 
Models 
{ 
public 

class 
Notification 
{ 
public 
int 
NotificationId !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 

EmployeeId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Message 
{ 
get  #
;# $
set% (
;( )
}* +
public 
DateTime 
SentDate  
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 
bool		 
IsRead		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
}

 
} ß
cE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\AppUI\Models\Employee.cs
	namespace 	
AppUI
 
. 
Models 
{ 
public 

class 
Employee 
{ 
public 
int 

EmployeeId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 

Department  
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 
string		 
Role		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
}

 
} ê
cE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\AppUI\Models\AuditLog.cs
	namespace 	
AppUI
 
. 
Models 
{ 
public 

class 
AuditLog 
{ 
public 
int 

AuditLogId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Action 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 
	Timestamp !
{" #
get$ '
;' (
set) ,
;, -
}. /
}		 
}

 Ë~
oE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\AppUI\Controllers\AdminController.cs
	namespace 	
AppUI
 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
public		 

class		 
AdminController		  
:		! "

Controller		# -
{

 
private 
readonly 
IHttpClientFactory +
_httpClientFactory, >
;> ?
public 
AdminController 
( 
IHttpClientFactory 1
httpClientFactory2 C
)C D
{ 	
this 
. 
_httpClientFactory #
=$ %
httpClientFactory& 7
;7 8
} 	
[ 	
	NonAction	 
] 
public 

HttpClient 
	GetClient #
(# $
)$ %
{ 	
var 
client 
= 
_httpClientFactory +
.+ ,
CreateClient, 8
(8 9
$str9 D
)D E
;E F
var 
token 
= 
HttpContext #
.# $
Session$ +
.+ ,
	GetString, 5
(5 6
$str6 @
)@ A
;A B
if 
( 
! 
string 
. 
IsNullOrEmpty %
(% &
token& +
)+ ,
), -
{ 
client 
. !
DefaultRequestHeaders ,
., -
Authorization- :
=; <
new= @%
AuthenticationHeaderValueA Z
(Z [
$str[ c
,c d
tokene j
)j k
;k l
} 
return 
client 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
[!! 	
HttpGet!!	 
(!! 
$str!! 
)!! 
]!! 
public"" 
IActionResult"" 
	LoginPage"" &
(""& '
)""' (
{## 	
return$$ 
View$$ 
($$ 
)$$ 
;$$ 
}%% 	
['' 	
HttpPost''	 
]'' 
[(( 	
Route((	 
((( 
$str(( 
,(( 
Name(( #
=(($ %
$str((& 4
)((4 5
]((5 6
public)) 
async)) 
Task)) 
<)) 
IActionResult)) '
>))' (
	LoginPage))) 2
())2 3
User))3 7
user))8 <
)))< =
{** 	
var++ 
client++ 
=++ 
	GetClient++ "
(++" #
)++# $
;++$ %
var,, 
response,, 
=,, 
await,,  
client,,! '
.,,' (
PostAsJsonAsync,,( 7
(,,7 8
$",,8 :
$str,,: T
",,T U
,,,U V
user,,W [
),,[ \
;,,\ ]
if.. 
(.. 
response.. 
... 
IsSuccessStatusCode.. ,
).., -
{// 
var00 
	tokenJson00 
=00 
await00  %
response00& .
.00. /
Content00/ 6
.006 7
ReadAsStringAsync007 H
(00H I
)00I J
;00J K
var33 
tokenObj33 
=33 
JsonSerializer33 -
.33- .
Deserialize33. 9
<339 :

Dictionary33: D
<33D E
string33E K
,33K L
string33M S
>33S T
>33T U
(33U V
	tokenJson33V _
)33_ `
;33` a
if55 
(55 
tokenObj55 
!=55 
null55  $
&&55% '
tokenObj55( 0
.550 1
ContainsKey551 <
(55< =
$str55= D
)55D E
)55E F
{66 
var77 
token77 
=77 
tokenObj77  (
[77( )
$str77) 0
]770 1
;771 2
HttpContext88 
.88  
Session88  '
.88' (
	SetString88( 1
(881 2
$str882 <
,88< =
token88> C
)88C D
;88D E
return99 
RedirectToAction99 +
(99+ ,
$str99, 7
)997 8
;998 9
}:: 
else;; 
{<< 
ViewBag== 
.== 
Error== !
===" #
$str==$ B
;==B C
return>> 
View>> 
(>>  
)>>  !
;>>! "
}?? 
}@@ 
ViewBagBB 
.BB 
ErrorBB 
=BB 
$strBB 4
;BB4 5
returnCC 
ViewCC 
(CC 
)CC 
;CC 
}DD 	
[HH 	
HttpGetHH	 
(HH 
$strHH 
)HH 
]HH 
publicII 
asyncII 
TaskII 
<II 
IActionResultII '
>II' (
	DashboardII) 2
(II2 3
)II3 4
{JJ 	
varKK 
clientKK 
=KK 
	GetClientKK "
(KK" #
)KK# $
;KK$ %
varLL 
	employeesLL 
=LL 
awaitLL !
clientLL" (
.LL( )
GetFromJsonAsyncLL) 9
<LL9 :
ListLL: >
<LL> ?
EmployeeLL? G
>LLG H
>LLH I
(LLI J
$strLLJ d
)LLd e
;LLe f
varMM 
payrollsMM 
=MM 
awaitMM  
clientMM! '
.MM' (
GetFromJsonAsyncMM( 8
<MM8 9
ListMM9 =
<MM= >
PayrollMM> E
>MME F
>MMF G
(MMG H
$strMMH a
)MMa b
;MMb c
ViewBagNN 
.NN 
PayrollCountNN  
=NN! "
payrollsNN# +
?NN+ ,
.NN, -
CountNN- 2
??NN3 5
$numNN6 7
;NN7 8
returnOO 
ViewOO 
(OO 
	employeesOO !
)OO! "
;OO" #
}PP 	
[RR 	
HttpGetRR	 
(RR 
$strRR 
)RR 
]RR 
publicSS 
asyncSS 
TaskSS 
<SS 
IActionResultSS '
>SS' (
UsersSS) .
(SS. /
)SS/ 0
{TT 	
varUU 
clientUU 
=UU 
	GetClientUU "
(UU" #
)UU# $
;UU$ %
varVV 
usersVV 
=VV 
awaitVV 
clientVV $
.VV$ %
GetFromJsonAsyncVV% 5
<VV5 6
ListVV6 :
<VV: ;
UserVV; ?
>VV? @
>VV@ A
(VVA B
$strVVB X
)VVX Y
;VVY Z
returnWW 
ViewWW 
(WW 
usersWW 
)WW 
;WW 
}XX 	
[ZZ 	
HttpGetZZ	 
(ZZ 
$strZZ 
)ZZ 
]ZZ 
public[[ 
IActionResult[[ 

CreateUser[[ '
([[' (
)[[( )
=>[[* ,
View[[- 1
([[1 2
)[[2 3
;[[3 4
[]] 	
HttpPost]]	 
(]] 
$str]] 
)]] 
]]]  
public^^ 
async^^ 
Task^^ 
<^^ 
IActionResult^^ '
>^^' (

CreateUser^^) 3
(^^3 4
User^^4 8
user^^9 =
)^^= >
{__ 	
var`` 
client`` 
=`` 
	GetClient`` "
(``" #
)``# $
;``$ %
varaa 
resaa 
=aa 
awaitaa 
clientaa "
.aa" #
PostAsJsonAsyncaa# 2
(aa2 3
$straa3 F
,aaF G
useraaH L
)aaL M
;aaM N
ifbb 
(bb 
resbb 
.bb 
IsSuccessStatusCodebb '
)bb' (
returncc 
RedirectToActioncc '
(cc' (
$strcc( /
)cc/ 0
;cc0 1

ModelStateee 
.ee 
AddModelErroree $
(ee$ %
$stree% '
,ee' (
$stree) A
)eeA B
;eeB C
returnff 
Viewff 
(ff 
userff 
)ff 
;ff 
}gg 	
[ii 	
HttpGetii	 
(ii 
$strii  
)ii  !
]ii! "
publicjj 
asyncjj 
Taskjj 
<jj 
IActionResultjj '
>jj' (
PayrollConfigjj) 6
(jj6 7
)jj7 8
{kk 	
varll 
clientll 
=ll 
	GetClientll "
(ll" #
)ll# $
;ll$ %
varmm 
configsmm 
=mm 
awaitmm 
clientmm  &
.mm& '
GetFromJsonAsyncmm' 7
<mm7 8
Listmm8 <
<mm< =
PayrollConfigmm= J
>mmJ K
>mmK L
(mmL M
$strmmM l
)mml m
;mmm n
returnnn 
Viewnn 
(nn 
configsnn 
)nn  
;nn  !
}oo 	
[qq 	
HttpGetqq	 
(qq 
$strqq &
)qq& '
]qq' (
publicrr 
IActionResultrr 
CreatePayrollConfigrr 0
(rr0 1
)rr1 2
=>rr3 5
Viewrr6 :
(rr: ;
)rr; <
;rr< =
[tt 	
HttpPosttt	 
(tt 
$strtt '
)tt' (
]tt( )
publicuu 
asyncuu 
Taskuu 
<uu 
IActionResultuu '
>uu' (
CreatePayrollConfiguu) <
(uu< =
PayrollConfiguu= J
configuuK Q
)uuQ R
{vv 	
varww 
clientww 
=ww 
	GetClientww "
(ww" #
)ww# $
;ww$ %
varxx 
resxx 
=xx 
awaitxx 
clientxx "
.xx" #
PostAsJsonAsyncxx# 2
(xx2 3
$strxx3 W
,xxW X
configxxY _
)xx_ `
;xx` a
ifyy 
(yy 
resyy 
.yy 
IsSuccessStatusCodeyy '
)yy' (
returnzz 
RedirectToActionzz '
(zz' (
$strzz( 7
)zz7 8
;zz8 9

ModelState|| 
.|| 
AddModelError|| $
(||$ %
$str||% '
,||' (
$str||) @
)||@ A
;||A B
return}} 
View}} 
(}} 
config}} 
)}} 
;}}  
}~~ 	
[
ÄÄ 	
HttpGet
ÄÄ	 
(
ÄÄ 
$str
ÄÄ 
)
ÄÄ 
]
ÄÄ 
public
ÅÅ 
async
ÅÅ 
Task
ÅÅ 
<
ÅÅ 
IActionResult
ÅÅ '
>
ÅÅ' (
	Employees
ÅÅ) 2
(
ÅÅ2 3
)
ÅÅ3 4
{
ÇÇ 	
var
ÉÉ 
client
ÉÉ 
=
ÉÉ 
	GetClient
ÉÉ "
(
ÉÉ" #
)
ÉÉ# $
;
ÉÉ$ %
var
ÑÑ 
	employees
ÑÑ 
=
ÑÑ 
await
ÑÑ !
client
ÑÑ" (
.
ÑÑ( )
GetFromJsonAsync
ÑÑ) 9
<
ÑÑ9 :
List
ÑÑ: >
<
ÑÑ> ?
Employee
ÑÑ? G
>
ÑÑG H
>
ÑÑH I
(
ÑÑI J
$str
ÑÑJ d
)
ÑÑd e
;
ÑÑe f
return
ÖÖ 
View
ÖÖ 
(
ÖÖ 
	employees
ÖÖ !
)
ÖÖ! "
;
ÖÖ" #
}
ÜÜ 	
[
àà 	
HttpGet
àà	 
(
àà 
$str
àà !
)
àà! "
]
àà" #
public
ââ 
IActionResult
ââ 
CreateEmployee
ââ +
(
ââ+ ,
)
ââ, -
=>
ââ. 0
View
ââ1 5
(
ââ5 6
)
ââ6 7
;
ââ7 8
[
ãã 	
HttpPost
ãã	 
(
ãã 
$str
ãã "
)
ãã" #
]
ãã# $
public
åå 
async
åå 
Task
åå 
<
åå 
IActionResult
åå '
>
åå' (
CreateEmployee
åå) 7
(
åå7 8
Employee
åå8 @
emp
ååA D
)
ååD E
{
çç 	
var
éé 
client
éé 
=
éé 
	GetClient
éé "
(
éé" #
)
éé# $
;
éé$ %
var
èè 
res
èè 
=
èè 
await
èè 
client
èè "
.
èè" #
PostAsJsonAsync
èè# 2
(
èè2 3
$str
èè3 J
,
èèJ K
emp
èèL O
)
èèO P
;
èèP Q
if
êê 
(
êê 
res
êê 
.
êê !
IsSuccessStatusCode
êê '
)
êê' (
return
ëë 
RedirectToAction
ëë '
(
ëë' (
$str
ëë( 3
)
ëë3 4
;
ëë4 5

ModelState
ìì 
.
ìì 
AddModelError
ìì $
(
ìì$ %
$str
ìì% '
,
ìì' (
$str
ìì) E
)
ììE F
;
ììF G
return
îî 
View
îî 
(
îî 
emp
îî 
)
îî 
;
îî 
}
ïï 	
[
óó 	
HttpGet
óó	 
(
óó 
$str
óó $
)
óó$ %
]
óó% &
public
òò 
async
òò 
Task
òò 
<
òò 
IActionResult
òò '
>
òò' (
ComplianceReports
òò) :
(
òò: ;
)
òò; <
{
ôô 	
var
öö 
client
öö 
=
öö 
	GetClient
öö "
(
öö" #
)
öö# $
;
öö$ %
var
õõ 
reports
õõ 
=
õõ 
await
õõ 
client
õõ  &
.
õõ& '
GetFromJsonAsync
õõ' 7
<
õõ7 8
List
õõ8 <
<
õõ< =
string
õõ= C
>
õõC D
>
õõD E
(
õõE F
$str
õõF l
)
õõl m
;
õõm n
return
úú 
View
úú 
(
úú 
reports
úú 
)
úú  
;
úú  !
}
ùù 	
[
üü 	
HttpGet
üü	 
(
üü 
$str
üü  
)
üü  !
]
üü! "
public
†† 
async
†† 
Task
†† 
<
†† 
IActionResult
†† '
>
††' (
Notifications
††) 6
(
††6 7
)
††7 8
{
°° 	
var
¢¢ 
client
¢¢ 
=
¢¢ 
	GetClient
¢¢ "
(
¢¢" #
)
¢¢# $
;
¢¢$ %
var
££ 
notes
££ 
=
££ 
await
££ 
client
££ $
.
££$ %
GetFromJsonAsync
££% 5
<
££5 6
List
££6 :
<
££: ;
Notification
££; G
>
££G H
>
££H I
(
££I J
$str
££J h
)
££h i
;
££i j
return
§§ 
View
§§ 
(
§§ 
notes
§§ 
)
§§ 
;
§§ 
}
•• 	
[
ßß 	
HttpGet
ßß	 
(
ßß 
$str
ßß 
)
ßß 
]
ßß 
public
®® 
async
®® 
Task
®® 
<
®® 
IActionResult
®® '
>
®®' (

AuditTrail
®®) 3
(
®®3 4
)
®®4 5
{
©© 	
var
™™ 
client
™™ 
=
™™ 
	GetClient
™™ "
(
™™" #
)
™™# $
;
™™$ %
var
´´ 
logs
´´ 
=
´´ 
await
´´ 
client
´´ #
.
´´# $
GetFromJsonAsync
´´$ 4
<
´´4 5
List
´´5 9
<
´´9 :
AuditLog
´´: B
>
´´B C
>
´´C D
(
´´D E
$str
´´E `
)
´´` a
;
´´a b
return
¨¨ 
View
¨¨ 
(
¨¨ 
logs
¨¨ 
)
¨¨ 
;
¨¨ 
}
≠≠ 	
}
ÆÆ 
}ØØ 