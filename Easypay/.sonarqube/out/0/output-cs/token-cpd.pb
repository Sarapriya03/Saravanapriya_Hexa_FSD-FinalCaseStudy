ÁX
bE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\ServiceLayer\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. 
AddCors 
( 
options  
=>! #
{ 
options 
. 
	AddPolicy 
( 
$str  
,  !
policy" (
=>) +
{ 
policy 
. 
AllowAnyOrigin 
( 
) 
. 
AllowAnyMethod 
( 
) 
. 
AllowAnyHeader 
( 
) 
;  
} 
) 
; 
} 
) 
; 
builder 
. 
Services 
. 
AddAuthentication "
(" #
options# *
=>+ -
{ 
options 
. %
DefaultAuthenticateScheme %
=& '
JwtBearerDefaults( 9
.9 : 
AuthenticationScheme: N
;N O
options 
. "
DefaultChallengeScheme "
=# $
JwtBearerDefaults% 6
.6 7 
AuthenticationScheme7 K
;K L
}   
)   
.!! 
AddJwtBearer!! 
(!! 
options!! 
=>!! 
{"" 
options## 
.## %
TokenValidationParameters## %
=##& '
new##( +%
TokenValidationParameters##, E
{$$ 
ValidateIssuer%% 
=%% 
true%% 
,%% 
ValidateAudience&& 
=&& 
true&& 
,&&  
ValidateLifetime'' 
='' 
true'' 
,''  $
ValidateIssuerSigningKey((  
=((! "
true((# '
,((' (
ValidIssuer)) 
=)) 
builder)) 
.)) 
Configuration)) +
[))+ ,
$str)), 8
]))8 9
,))9 :
ValidAudience** 
=** 
builder** 
.**  
Configuration**  -
[**- .
$str**. <
]**< =
,**= >
IssuerSigningKey++ 
=++ 
new++  
SymmetricSecurityKey++ 3
(++3 4
Encoding,, 
.,, 
UTF8,, 
.,, 
GetBytes,, "
(,," #
builder,,# *
.,,* +
Configuration,,+ 8
[,,8 9
$str,,9 B
],,B C
),,C D
),,D E
}-- 
;-- 
}.. 
).. 
;.. 
builder11 
.11 
Services11 
.11 
AddApiVersioning11 !
(11! "
options11" )
=>11* ,
{22 
options33 
.33 
DefaultApiVersion33 
=33 
new33  #

ApiVersion33$ .
(33. /
$num33/ 0
,330 1
$num332 3
)333 4
;334 5
options44 
.44 /
#AssumeDefaultVersionWhenUnspecified44 /
=440 1
true442 6
;446 7
options55 
.55 
ReportApiVersions55 
=55 
true55  $
;55$ %
options66 
.66 
ApiVersionReader66 
=66 
new66 "&
UrlSegmentApiVersionReader66# =
(66= >
)66> ?
;66? @
}77 
)77 
;77 
builder:: 
.:: 
Services:: 
.:: 
AddSwaggerGen:: 
(:: 
options:: &
=>::' )
{;; 
options<< 
.<< 

SwaggerDoc<< 
(<< 
$str<< 
,<< 
new<<  
OpenApiInfo<<! ,
{== 
Title>> 
=>> 
$str>> 
,>> 
Version?? 
=?? 
$str?? 
}@@ 
)@@ 
;@@ 
optionsCC 
.CC !
AddSecurityDefinitionCC !
(CC! "
$strCC" '
,CC' (
newCC) ,!
OpenApiSecuritySchemeCC- B
{DD 
DescriptionEE 
=EE 
$strEE #
,EE# $
NameFF 
=FF 
$strFF 
,FF 
InGG 

=GG 
ParameterLocationGG 
.GG 
HeaderGG %
,GG% &
TypeHH 
=HH 
SecuritySchemeTypeHH !
.HH! "
ApiKeyHH" (
,HH( )
SchemeII 
=II 
$strII 
}JJ 
)JJ 
;JJ 
optionsLL 
.LL "
AddSecurityRequirementLL "
(LL" #
newLL# &&
OpenApiSecurityRequirementLL' A
{MM 
{NN 	
newOO !
OpenApiSecuritySchemeOO %
{PP 
	ReferenceQQ 
=QQ 
newQQ 
OpenApiReferenceQQ  0
{RR 
TypeSS 
=SS 
ReferenceTypeSS (
.SS( )
SecuritySchemeSS) 7
,SS7 8
IdTT 
=TT 
$strTT 
}UU 
}VV 
,VV 
ArrayWW 
.WW 
EmptyWW 
<WW 
stringWW 
>WW 
(WW  
)WW  !
}XX 	
}YY 
)YY 
;YY 
}ZZ 
)ZZ 
;ZZ 
builder]] 
.]] 
Services]] 
.]] 
	AddScoped]] 
<]] 
IAuditLogRepo]] (
<]]( )
AuditLog]]) 1
>]]1 2
,]]2 3
AuditLogRepo]]4 @
>]]@ A
(]]A B
)]]B C
;]]C D
builder^^ 
.^^ 
Services^^ 
.^^ 
	AddScoped^^ 
<^^ 
IBenefitRepo^^ '
<^^' (
Benefit^^( /
>^^/ 0
,^^0 1
BenefitRepo^^2 =
>^^= >
(^^> ?
)^^? @
;^^@ A
builder__ 
.__ 
Services__ 
.__ 
	AddScoped__ 
<__ 
IEmployeeRepo__ (
<__( )
Employee__) 1
>__1 2
,__2 3
EmployeeRepo__4 @
>__@ A
(__A B
)__B C
;__C D
builder`` 
.`` 
Services`` 
.`` 
	AddScoped`` 
<`` 
ILeaveRequestRepo`` ,
<``, -
LeaveRequest``- 9
>``9 :
,``: ;
LeaveRequestRepo``< L
>``L M
(``M N
)``N O
;``O P
builderaa 
.aa 
Servicesaa 
.aa 
	AddScopedaa 
<aa 
INotificationRepoaa ,
<aa, -
Notificationaa- 9
>aa9 :
,aa: ;
NotificationRepoaa< L
>aaL M
(aaM N
)aaN O
;aaO P
builderbb 
.bb 
Servicesbb 
.bb 
	AddScopedbb 
<bb 
IPayrollConfigRepobb -
<bb- .
PayrollConfigbb. ;
>bb; <
,bb< =
PayrollConfigRepobb> O
>bbO P
(bbP Q
)bbQ R
;bbR S
buildercc 
.cc 
Servicescc 
.cc 
	AddScopedcc 
<cc 
IPayrollRepocc '
<cc' (
Payrollcc( /
>cc/ 0
,cc0 1
PayrollRepocc2 =
>cc= >
(cc> ?
)cc? @
;cc@ A
builderdd 
.dd 
Servicesdd 
.dd 
	AddScopeddd 
<dd 
IReportRepodd &
,dd& '

ReportRepodd( 2
>dd2 3
(dd3 4
)dd4 5
;dd5 6
builderee 
.ee 
Servicesee 
.ee 
	AddScopedee 
<ee 
ITimesheetRepoee )
<ee) *
	Timesheetee* 3
>ee3 4
,ee4 5
TimesheetRepoee6 C
>eeC D
(eeD E
)eeE F
;eeF G
builderff 
.ff 
Servicesff 
.ff 
	AddScopedff 
<ff 
	IUserRepoff $
<ff$ %
Userff% )
>ff) *
,ff* +
UserRepoff, 4
>ff4 5
(ff5 6
)ff6 7
;ff7 8
varhh 
apphh 
=hh 	
builderhh
 
.hh 
Buildhh 
(hh 
)hh 
;hh 
ifkk 
(kk 
appkk 
.kk 
Environmentkk 
.kk 
IsDevelopmentkk !
(kk! "
)kk" #
)kk# $
{ll 
appmm 
.mm 

UseSwaggermm 
(mm 
)mm 
;mm 
appnn 
.nn 
UseSwaggerUInn 
(nn 
cnn 
=>nn 
{oo 
cpp 	
.pp	 

SwaggerEndpointpp
 
(pp 
$strpp 4
,pp4 5
$strpp6 H
)ppH I
;ppI J
}qq 
)qq 
;qq 
}rr 
apptt 
.tt 
UseHttpsRedirectiontt 
(tt 
)tt 
;tt 
appww 
.ww 
Useww 
(ww 
asyncww 
(ww 
contextww 
,ww 
nextww 
)ww 
=>ww  
{xx 
varyy 

authHeaderyy 
=yy 
contextyy 
.yy 
Requestyy $
.yy$ %
Headersyy% ,
[yy, -
$stryy- <
]yy< =
.yy= >
FirstOrDefaultyy> L
(yyL M
)yyM N
;yyN O
ifzz 
(zz 
!zz 	
stringzz	 
.zz 
IsNullOrEmptyzz 
(zz 

authHeaderzz (
)zz( )
&&zz* ,
!zz- .

authHeaderzz. 8
.zz8 9

StartsWithzz9 C
(zzC D
$strzzD M
)zzM N
)zzN O
{{{ 
context|| 
.|| 
Request|| 
.|| 
Headers|| 
[||  
$str||  /
]||/ 0
=||1 2
$"||3 5
$str||5 <
{||< =

authHeader||= G
}||G H
"||H I
;||I J
}}} 
await~~ 	
next~~
 
(~~ 
)~~ 
;~~ 
} 
) 
; 
app 
.
 
UseCors
 
(
 
$str
 
)
 
;
 
app 
.
 
UseAuthentication
 
(
 
)
 
;
 
app 
.
 
UseAuthorization
 
(
 
)
 
;
 
app 
.
 
MapControllers
 
(
 
)
 
;
 
app 
.
 
Run
 
(
 
)
 	
;
	 
°-
uE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\ServiceLayer\Controllers\UserController.cs
	namespace

 	
ServiceLayer


 
.

 
Controllers

 "
{ 
[ 
	Authorize 
( 
Roles 
= 
$str /
)/ 0
]0 1
[ 

ApiVersion 
( 
$str 
) 
] 
[ 
Route 

(
 
$str 3
)3 4
]4 5
[ 
ApiController 
] 
public 

class 
UserController 
:  !
ControllerBase" 0
{ 
private 
readonly 
	IUserRepo "
<" #
User# '
>' (
_repo) .
;. /
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
UserController 
( 
	IUserRepo '
<' (
User( ,
>, -
repo. 2
,2 3
IConfiguration4 B
configC I
)I J
{ 	
_repo 
= 
repo 
; 
_config 
= 
config 
; 
} 	
[ 	
AllowAnonymous	 
] 
[ 	
HttpPost	 
( 
$str  
)  !
]! "
public 
IActionResult 
Validate %
(% &
User& *
user+ /
)/ 0
{ 	
var   
result   
=   
_repo   
.   
ValidateUser   +
(  + ,
user  , 0
)  0 1
;  1 2
if!! 
(!! 
result!! 
==!! 
null!! 
)!! 
return"" 
Unauthorized"" #
(""# $
$str""$ 9
)""9 :
;"": ;
var$$ 
token$$ 
=$$ 
GenerateJwtToken$$ (
($$( )
result$$) /
)$$/ 0
;$$0 1
return%% 
Ok%% 
(%% 
new%% 
{%% 
token%% !
,%%! "
role%%# '
=%%( )
result%%* 0
.%%0 1
Role%%1 5
}%%6 7
)%%7 8
;%%8 9
}&& 	
[)) 	
HttpPost))	 
()) 
$str)) 
))) 
])) 
public** 
IActionResult** 
Add**  
(**  !
User**! %
user**& *
)*** +
{++ 	
var,, 
	addedUser,, 
=,, 
_repo,, !
.,,! "
AddUser,," )
(,,) *
user,,* .
),,. /
;,,/ 0
return-- 
Ok-- 
(-- 
	addedUser-- 
)--  
;--  !
}.. 	
[11 	
HttpGet11	 
(11 
$str11 
)11 
]11 
public22 
IActionResult22 
GetAll22 #
(22# $
)22$ %
{33 	
var44 
users44 
=44 
_repo44 
.44 
GetAllUsers44 )
(44) *
)44* +
;44+ ,
return55 
Ok55 
(55 
users55 
)55 
;55 
}66 	
[99 	
	NonAction99	 
]99 
private:: 
string:: 
GenerateJwtToken:: '
(::' (
User::( ,
user::- 1
)::1 2
{;; 	
var<< 
key<< 
=<< 
new<<  
SymmetricSecurityKey<< .
(<<. /
Encoding<</ 7
.<<7 8
UTF8<<8 <
.<<< =
GetBytes<<= E
(<<E F
_config<<F M
[<<M N
$str<<N W
]<<W X
)<<X Y
)<<Y Z
;<<Z [
var== 
credentials== 
=== 
new== !
SigningCredentials==" 4
(==4 5
key==5 8
,==8 9
SecurityAlgorithms==: L
.==L M

HmacSha256==M W
)==W X
;==X Y
var?? 
claims?? 
=?? 
new?? 
[?? 
]?? 
{@@ 
newAA 
ClaimAA 
(AA 

ClaimTypesAA $
.AA$ %
EmailAA% *
,AA* +
userAA, 0
.AA0 1
EmailAA1 6
)AA6 7
,AA7 8
newBB 
ClaimBB 
(BB 

ClaimTypesBB $
.BB$ %
RoleBB% )
,BB) *
userBB+ /
.BB/ 0
RoleBB0 4
)BB4 5
}CC 
;CC 
varEE 
tokenEE 
=EE 
newEE 
JwtSecurityTokenEE ,
(EE, -
issuerFF 
:FF 
_configFF 
[FF  
$strFF  ,
]FF, -
,FF- .
audienceGG 
:GG 
_configGG !
[GG! "
$strGG" 0
]GG0 1
,GG1 2
claimsHH 
:HH 
claimsHH 
,HH 
expiresII 
:II 
DateTimeII !
.II! "
NowII" %
.II% &

AddMinutesII& 0
(II0 1
$numII1 3
)II3 4
,II4 5
signingCredentialsJJ "
:JJ" #
credentialsJJ$ /
)KK 
;KK 
returnMM 
newMM #
JwtSecurityTokenHandlerMM .
(MM. /
)MM/ 0
.MM0 1

WriteTokenMM1 ;
(MM; <
tokenMM< A
)MMA B
;MMB C
}NN 	
}OO 
}PP Ç
zE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\ServiceLayer\Controllers\TimesheetController.cs
[ 
	Authorize 

(
 
Roles 
= 
$str 
) 
] 
[ 

ApiVersion 
( 
$str 
) 
] 
[ 
Route 
( 
$str /
)/ 0
]0 1
[		 
ApiController		 
]		 
public

 
class

 
TimesheetController

  
:

! "
ControllerBase

# 1
{ 
private 
readonly 
ITimesheetRepo #
<# $
	Timesheet$ -
>- .
_repo/ 4
;4 5
public 

TimesheetController 
( 
ITimesheetRepo -
<- .
	Timesheet. 7
>7 8
repo9 =
)= >
{ 
_repo 
= 
repo 
; 
} 
[ 
HttpPost 
( 
$str 
) 
] 
public 

IActionResult 
AddOrUpdate $
($ %
[% &
FromBody& .
]. /
	Timesheet0 9
sheet: ?
)? @
{ 
var 
result 
= 
_repo 
.  
AddOrUpdateTimesheet /
(/ 0
sheet0 5
)5 6
;6 7
return 
Ok 
( 
result 
) 
; 
} 
[ 
HttpGet 
( 
$str $
)$ %
]% &
public 

IActionResult 
GetByEmployee &
(& '
int' *
id+ -
)- .
{ 
var 
result 
= 
_repo 
. %
GetTimesheetsByEmployeeId 4
(4 5
id5 7
)7 8
;8 9
return 
Ok 
( 
result 
) 
; 
} 
}   Û
wE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\ServiceLayer\Controllers\ReportController.cs
	namespace 	
ServiceLayer
 
. 
Controllers "
{ 
[ 
	Authorize 
( 
Roles 
= 
$str 
) 
]  
[		 

ApiVersion		 
(		 
$str		 
)		 
]		 
[

 
Route

 

(


 
$str

 3
)

3 4
]

4 5
[ 
ApiController 
] 
public 

class 
ReportController !
:" #
ControllerBase$ 2
{ 
private 
readonly 
IReportRepo $
_reportRepo% 0
;0 1
public 
ReportController 
(  
IReportRepo  +

reportRepo, 6
)6 7
{ 	
_reportRepo 
= 

reportRepo $
;$ %
} 	
[ 	
HttpGet	 
( 
$str '
)' (
]( )
public 
IActionResult  
GetComplianceReports 1
(1 2
)2 3
{ 	
var 
reports 
= 
_reportRepo %
.% & 
GetComplianceReports& :
(: ;
); <
;< =
return 
Ok 
( 
reports 
) 
; 
} 	
} 
} ã%
xE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\ServiceLayer\Controllers\PayrollController.cs
[ 
	Authorize 

(
 
Roles 
= 
$str 
) 
] 
[ 

ApiVersion 
( 
$str 
) 
] 
[ 
Route 
( 
$str /
)/ 0
]0 1
[		 
ApiController		 
]		 
public

 
class

 
PayrollController

 
:

  
ControllerBase

! /
{ 
private 
readonly 
IPayrollRepo !
<! "
Payroll" )
>) *
_repo+ 0
;0 1
public 

PayrollController 
( 
IPayrollRepo )
<) *
Payroll* 1
>1 2
repo3 7
)7 8
{ 
_repo 
= 
repo 
; 
} 
[ 
HttpPost 
( 
$str 
) 
] 
public 

IActionResult 
Generate !
(! "
Payroll" )
payroll* 1
)1 2
{ 
var 
result 
= 
_repo 
. 
GeneratePayroll *
(* +
payroll+ 2
)2 3
;3 4
return 
Ok 
( 
result 
) 
; 
} 
[ 
HttpPost 
( 
$str 
) 
] 
public 

IActionResult 
Add 
( 
Payroll $
payroll% ,
), -
{ 
var 
result 
= 
_repo 
. 

AddPayroll %
(% &
payroll& -
)- .
;. /
return 
Ok 
( 
result 
) 
; 
} 
[!! 
HttpPut!! 
(!! 
$str!! 
)!! 
]!! 
public"" 

IActionResult"" 
Update"" 
(""  
Payroll""  '
payroll""( /
)""/ 0
{## 
var$$ 
result$$ 
=$$ 
_repo$$ 
.$$ 
UpdatePayroll$$ (
($$( )
payroll$$) 0
)$$0 1
;$$1 2
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 
[(( 

HttpDelete(( 
((( 
$str(( 
)(( 
](( 
public)) 

IActionResult)) 
Delete)) 
())  
Payroll))  '
payroll))( /
)))/ 0
{** 
var++ 
result++ 
=++ 
_repo++ 
.++ 
DeletePayroll++ (
(++( )
payroll++) 0
)++0 1
;++1 2
return,, 
Ok,, 
(,, 
result,, 
),, 
;,, 
}-- 
[// 
HttpGet// 
(// 
$str// 
)// 
]// 
public00 

IActionResult00 
GetByEmployee00 &
(00& '
int00' *
id00+ -
)00- .
{11 
var22 
result22 
=22 
_repo22 
.22 #
GetPayrollsByEmployeeId22 2
(222 3
id223 5
)225 6
;226 7
return33 
Ok33 
(33 
result33 
)33 
;33 
}44 
[66 
HttpGet66 
(66 
$str66 
)66 
]66 
public77 

IActionResult77 
GetAll77 
(77  
)77  !
{88 
var99 
result99 
=99 
_repo99 
.99 
GetAllPayrolls99 )
(99) *
)99* +
;99+ ,
return:: 
Ok:: 
(:: 
result:: 
):: 
;:: 
};; 
[== 
HttpGet== 
(== 
$str== 
)== 
]== 
public>> 

IActionResult>> 
Verify>> 
(>>  
int>>  #
id>>$ &
)>>& '
{?? 
var@@ 
result@@ 
=@@ 
_repo@@ 
.@@ 
VerifyPayroll@@ (
(@@( )
id@@) +
)@@+ ,
;@@, -
returnAA 
OkAA 
(AA 
resultAA 
)AA 
;AA 
}BB 
}DD 
~E:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\ServiceLayer\Controllers\PayrollConfigController.cs
[ 
	Authorize 

(
 
Roles 
= 
$str 
) 
] 
[ 

ApiVersion 
( 
$str 
) 
] 
[ 
Route 
( 
$str /
)/ 0
]0 1
[		 
ApiController		 
]		 
public

 
class

 #
PayrollConfigController

 $
:

% &
ControllerBase

' 5
{ 
private 
readonly 
IPayrollConfigRepo '
<' (
PayrollConfig( 5
>5 6
_repo7 <
;< =
public 
#
PayrollConfigController "
(" #
IPayrollConfigRepo# 5
<5 6
PayrollConfig6 C
>C D
repoE I
)I J
{ 
_repo 
= 
repo 
; 
} 
[ 
HttpPost 
( 
$str 
) 
] 
public 

IActionResult 
AddOrUpdate $
($ %
PayrollConfig% 2
config3 9
)9 :
{ 
var 
result 
= 
_repo 
. 
AddOrUpdateConfig ,
(, -
config- 3
)3 4
;4 5
return 
Ok 
( 
result 
) 
; 
} 
[ 
HttpGet 
( 
$str 
) 
] 
public 

IActionResult 
GetByEmployee &
(& '
int' *
id+ -
)- .
{ 
var 
result 
= 
_repo 
. !
GetConfigByEmployeeId 0
(0 1
id1 3
)3 4
;4 5
return 
Ok 
( 
result 
) 
; 
} 
[!! 
HttpGet!! 
(!! 
$str!! 
)!! 
]!! 
public"" 

IActionResult"" 
GetAll"" 
(""  
)""  !
{## 
var$$ 
result$$ 
=$$ 
_repo$$ 
.$$ 
GetAll$$ !
($$! "
)$$" #
;$$# $
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 
}'' ÿ
}E:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\ServiceLayer\Controllers\NotificationController.cs
[ 
	Authorize 

(
 
Roles 
= 
$str +
)+ ,
], -
[ 

ApiVersion 
( 
$str 
) 
] 
[ 
Route 
( 
$str /
)/ 0
]0 1
[		 
ApiController		 
]		 
public

 
class

 "
NotificationController

 #
:

$ %
ControllerBase

& 4
{ 
private 
readonly 
INotificationRepo &
<& '
Notification' 3
>3 4
_repo5 :
;: ;
public 
"
NotificationController !
(! "
INotificationRepo" 3
<3 4
Notification4 @
>@ A
repoB F
)F G
{ 
_repo 
= 
repo 
; 
} 
[ 
HttpPost 
( 
$str 
) 
] 
public 

IActionResult 
Add 
( 
Notification )
notif* /
)/ 0
{ 
var 
result 
= 
_repo 
. 
AddNotification *
(* +
notif+ 0
)0 1
;1 2
return 
Ok 
( 
result 
) 
; 
} 
[ 
HttpGet 
( 
$str 
) 
] 
public 

IActionResult 
GetByEmployee &
(& '
int' *
id+ -
)- .
{ 
var 
result 
= 
_repo 
. (
GetNotificationsByEmployeeId 7
(7 8
id8 :
): ;
;; <
return 
Ok 
( 
result 
) 
; 
} 
[!! 
HttpGet!! 
(!! 
$str!! 
)!! 
]!! 
public"" 

IActionResult"" 
GetAll"" 
(""  
)""  !
{## 
var$$ 
result$$ 
=$$ 
_repo$$ 
.$$ 
GetAll$$ !
($$! "
)$$" #
;$$# $
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 
}'' Æ
}E:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\ServiceLayer\Controllers\LeaveRequestController.cs
[ 
	Authorize 

(
 
Roles 
= 
$str %
)% &
]& '
[ 

ApiVersion 
( 
$str 
) 
] 
[ 
Route 
( 
$str /
)/ 0
]0 1
[		 
ApiController		 
]		 
public

 
class

 "
LeaveRequestController

 #
:

$ %
ControllerBase

& 4
{ 
private 
readonly 
ILeaveRequestRepo &
<& '
LeaveRequest' 3
>3 4
_repo5 :
;: ;
public 
"
LeaveRequestController !
(! "
ILeaveRequestRepo" 3
<3 4
LeaveRequest4 @
>@ A
repoB F
)F G
{ 
_repo 
= 
repo 
; 
} 
[ 
HttpPost 
( 
$str 
) 
] 
public 

IActionResult 
Submit 
(  
LeaveRequest  ,
req- 0
)0 1
{ 
var 
result 
= 
_repo 
. 
SubmitLeaveRequest -
(- .
req. 1
)1 2
;2 3
return 
Ok 
( 
result 
) 
; 
} 
[ 
HttpPut 
( 
$str 
) 
] 
public 

IActionResult 
ApproveOrReject (
(( )
LeaveRequest) 5
req6 9
)9 :
{ 
var 
result 
= 
_repo 
. '
ApproveOrRejectLeaveRequest 6
(6 7
req7 :
): ;
;; <
return 
Ok 
( 
result 
) 
; 
} 
[!! 
HttpGet!! 
(!! 
$str!! 
)!! 
]!! 
public"" 

IActionResult"" 
GetByEmployee"" &
(""& '
int""' *
id""+ -
)""- .
{## 
var$$ 
result$$ 
=$$ 
_repo$$ 
.$$ (
GetLeaveRequestsByEmployeeId$$ 7
($$7 8
id$$8 :
)$$: ;
;$$; <
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 
[(( 
HttpGet(( 
((( 
$str(( 
)(( 
](( 
public)) 

IActionResult)) 
GetAll)) 
())  
)))  !
{** 
var++ 
result++ 
=++ 
_repo++ 
.++ 
GetAllLeaveRequests++ .
(++. /
)++/ 0
;++0 1
return,, 
Ok,, 
(,, 
result,, 
),, 
;,, 
}-- 
}.. 
yE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\ServiceLayer\Controllers\EmployeeController.cs
[ 
	Authorize 

(
 
Roles 
= 
$str +
)+ ,
], -
[ 

ApiVersion 
( 
$str 
) 
] 
[ 
Route 
( 
$str /
)/ 0
]0 1
[		 
ApiController		 
]		 
public

 
class

 
EmployeeController

 
:

  !
ControllerBase

" 0
{ 
private 
readonly 
IEmployeeRepo "
<" #
Employee# +
>+ ,
_repo- 2
;2 3
public 

EmployeeController 
( 
IEmployeeRepo +
<+ ,
Employee, 4
>4 5
repo6 :
): ;
{ 
_repo 
= 
repo 
; 
} 
[ 
HttpGet 
( 
$str 
) 
] 
public 

IActionResult 
GetAll 
(  
)  !
{ 
var 
result 
= 
_repo 
. 
GetAllEmployees *
(* +
)+ ,
;, -
return 
Ok 
( 
result 
) 
; 
} 
[ 
HttpGet 
( 
$str 
) 
] 
public 

IActionResult 
GetById  
(  !
int! $
id% '
)' (
{ 
var 
result 
= 
_repo 
. 
GetEmployeeById *
(* +
id+ -
)- .
;. /
return 
Ok 
( 
result 
) 
; 
} 
[!! 
HttpPost!! 
(!! 
$str!! 
)!! 
]!! 
public"" 

IActionResult"" 
Add"" 
("" 
Employee"" %
emp""& )
)"") *
{## 
var$$ 
result$$ 
=$$ 
_repo$$ 
.$$ 
AddEmployee$$ &
($$& '
emp$$' *
)$$* +
;$$+ ,
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 
[(( 
HttpPut(( 
((( 
$str(( 
)(( 
](( 
public)) 

IActionResult)) 
Update)) 
())  
Employee))  (
emp))) ,
))), -
{** 
var++ 
result++ 
=++ 
_repo++ 
.++ 
UpdateEmployee++ )
(++) *
emp++* -
)++- .
;++. /
return,, 
Ok,, 
(,, 
result,, 
),, 
;,, 
}-- 
[// 

HttpDelete// 
(// 
$str// 
)// 
]// 
public00 

IActionResult00 
Delete00 
(00  
Employee00  (
emp00) ,
)00, -
{11 
var22 
result22 
=22 
_repo22 
.22 
DeleteEmployee22 )
(22) *
emp22* -
)22- .
;22. /
return33 
Ok33 
(33 
result33 
)33 
;33 
}44 
}55 ý
xE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\ServiceLayer\Controllers\BenefitController.cs
[ 
	Authorize 

(
 
Roles 
= 
$str 
) 
] 
[ 

ApiVersion 
( 
$str 
) 
] 
[ 
Route 
( 
$str /
)/ 0
]0 1
[		 
ApiController		 
]		 
public

 
class

 
BenefitController

 
:

  
ControllerBase

! /
{ 
private 
readonly 
IBenefitRepo !
<! "
Benefit" )
>) *
_repo+ 0
;0 1
public 

BenefitController 
( 
IBenefitRepo )
<) *
Benefit* 1
>1 2
repo3 7
)7 8
{ 
_repo 
= 
repo 
; 
} 
[ 
HttpGet 
( 
$str 
) 
] 
public 

IActionResult 
GetAll 
(  
)  !
{ 
var 
result 
= 
_repo 
. 
GetAllBenefits )
() *
)* +
;+ ,
return 
Ok 
( 
result 
) 
; 
} 
[ 
HttpPost 
( 
$str 
) 
] 
public 

IActionResult 
Add 
( 
Benefit $
benefit% ,
), -
{ 
var 
result 
= 
_repo 
. 

AddBenefit %
(% &
benefit& -
)- .
;. /
return 
Ok 
( 
result 
) 
; 
} 
[!! 
HttpPut!! 
(!! 
$str!! 
)!! 
]!! 
public"" 

IActionResult"" 
Update"" 
(""  
Benefit""  '
benefit""( /
)""/ 0
{## 
var$$ 
result$$ 
=$$ 
_repo$$ 
.$$ 
UpdateBenefit$$ (
($$( )
benefit$$) 0
)$$0 1
;$$1 2
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 
[(( 

HttpDelete(( 
((( 
$str(( 
)(( 
](( 
public)) 

IActionResult)) 
Delete)) 
())  
Benefit))  '
benefit))( /
)))/ 0
{** 
var++ 
result++ 
=++ 
_repo++ 
.++ 
DeleteBenefit++ (
(++( )
benefit++) 0
)++0 1
;++1 2
return,, 
Ok,, 
(,, 
result,, 
),, 
;,, 
}-- 
}.. ª
yE:\Hexaware\.NET_ANGULAR FSD\Saravanapriya_Hexa_FSD-FinalCaseStudy\Easypay\ServiceLayer\Controllers\AuditLogController.cs
[ 
	Authorize 

(
 
Roles 
= 
$str 
) 
] 
[ 

ApiVersion 
( 
$str 
) 
] 
[		 
Route		 
(		 
$str		 /
)		/ 0
]		0 1
[

 
ApiController

 
]

 
public 
class 
AuditLogController 
:  !
ControllerBase" 0
{ 
private 
readonly 
IAuditLogRepo "
<" #
AuditLog# +
>+ ,
_repo- 2
;2 3
public 

AuditLogController 
( 
IAuditLogRepo +
<+ ,
AuditLog, 4
>4 5
repo6 :
): ;
{ 
_repo 
= 
repo 
; 
} 
[ 
HttpPost 
( 
$str 
) 
] 
public 

IActionResult 
Add 
( 
AuditLog %
log& )
)) *
{ 
var 
result 
= 
_repo 
. 
AddLog !
(! "
log" %
)% &
;& '
return 
Ok 
( 
result 
) 
; 
} 
[ 
HttpGet 
( 
$str 
) 
] 
public 

IActionResult 
GetAll 
(  
)  !
{ 
var 
result 
= 
_repo 
. 

GetAllLogs %
(% &
)& '
;' (
return   
Ok   
(   
result   
)   
;   
}!! 
}"" 